"use strict";(()=>{var a={};a.id=7449,a.ids=[636,3220,7449],a.modules={8732:a=>{a.exports=require("react/jsx-runtime")},8938:a=>{a.exports=import("class-variance-authority")},9640:a=>{a.exports=import("@radix-ui/react-slot")},12830:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{A:()=>j});var e=c(8732);c(82015);var f=c(66345),g=c(74952),h=a([f]);f=(h.then?(await h)():h)[0];let i=async a=>{let{default:b}=await Promise.resolve().then(c.t.bind(c,65515,23)),{default:d}=await Promise.resolve().then(c.bind(c,83501)),e=async a=>{try{let b=await fetch(a),c=await b.blob();return await new Promise(a=>{let b=new FileReader;b.onload=()=>a(b.result),b.readAsDataURL(c)})}catch{return null}},f=new b,g=f.internal.pageSize.getWidth(),h=20,i=await e("/images/pbg.jpg");i&&f.addImage(i,"JPEG",14,h-8,35,32),f.setTextColor(43,108,176),f.setFont(void 0,"bold"),f.setFontSize(16),f.text("PEACE BUSINESS GROUP",g-14,h+2,{align:"right"}),f.setTextColor(110,110,110),f.setFont(void 0,"normal"),f.setFontSize(9);let j=[a.companyAddress,a.companyEmail,a.companyPhone].filter(Boolean),k=h+8;for(let a of j)f.text(a,g-14,k,{align:"right"}),k+=4;h=Math.max(h+32-6,k-4),f.setDrawColor(220),f.setLineWidth(.6),f.line(14,h,g-14,h),h+=8,f.setTextColor(0),f.setFont(void 0,"bold"),f.setFontSize(13),f.text("OFFICIAL INVITATION LETTER",g/2,h,{align:"center"}),h+=8,f.setFontSize(10),f.setFont(void 0,"bold");let l=(a=>{let b=new Date(a),c=b.getDate(),d=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"][b.getMonth()],e=b.getFullYear();return`${c}-${d}, ${e}`})(a.date?a.date:new Date().toISOString());f.text("Ref:",14,h),f.setFont(void 0,"normal"),f.text(` ${a.refNumber}`,14+f.getTextWidth("Ref:"),h),f.setFont(void 0,"bold");let m="Date:",n=f.getTextWidth(m),o=g-14-n-f.getTextWidth(` ${l}`);f.text(m,o,h),f.setFont(void 0,"normal"),f.text(` ${l}`,o+n,h),h+=10,h+=4,f.setFontSize(11),f.setFont(void 0,"bold"),f.text("To:",14,h),h+=6,f.setFont(void 0,"normal"),f.setFontSize(10),f.text("Federal Government of Somalia",14,h),h+=4,f.text("Immigration & Nationality Department",14,h),h+=4,f.text("Mogadishu, Somalia",14,h),h+=8,f.setFontSize(10),f.text("Dear Sir/Madam,",14,h),h+=8,f.setFont(void 0,"bold");let p=a.subject||"Official Invitation for Business Visit";f.text(`Subject: ${p}`,14,h),h+=8,f.setFont(void 0,"normal");let q=(a.purposeOfVisit||"We would like to inform you that the below guest will be visiting Mogadishu and he will be accommodated in Peace Hotel Mogadishu located next to Adan Cade International Airport. Peace Business Group will be responsible for his accommodation and safety while visiting Mogadishu.\n\nWe kindly request your assistance in facilitating the necessary visa and entry procedures for the above-mentioned guest. Should you require any additional information or documentation, please do not hesitate to contact our office.\n\nWe look forward to your favorable consideration.").split("\n\n"),r=q[0]||"",s="";for(let a=1;a<q.length;a++)if(q[a].includes("We kindly request")){s=q[a];break}s||(s="We kindly request your assistance in facilitating the necessary visa and entry procedures for the above-mentioned guest. Should you require any additional information or documentation, please do not hesitate to contact us.\n\nWe look forward to your favorable consideration.");let t=f.splitTextToSize(r,g-28);f.text(t,14,h),h+=4.5*t.length;let u=[[a.guestName||"",a.nationality||"",a.organization||"",a.passportNumber||"",(a=>{if(!a)return"";let b=new Date(a),c=String(b.getDate()).padStart(2,"0"),d=b.toLocaleString("en-US",{month:"short"}).toUpperCase(),e=b.getFullYear();return`${c} ${d} ${e}`})(a.passportExpiryDate)]];d(f,{startY:h,head:[["NAME","NATIONALITY","ORGANIZATION","PASSPORT NO.","PASSPORT EXPIRY DATE"]],body:u,styles:{fontSize:9},headStyles:{fillColor:[247,248,250],textColor:0},theme:"grid",margin:{left:14,right:14}}),h=f.lastAutoTable?.finalY?f.lastAutoTable.finalY+6:h+20;let v=f.splitTextToSize(s,g-28);f.text(v,14,h),h+=4.5*v.length+8,f.setFontSize(10),f.text("Yours sincerely,",14,h),h+=6,f.text("Bashir Osman",14,h),h+=5,f.text("Chief Executive Officer",14,h),h+=4,f.text("Peace Business Group",14,h),h+=4;try{let a=await e("/images/Stamp & Signature.png");a?(f.addImage(a,"PNG",34,h,130,76),h+=86):h+=12}catch{h+=12}f.setFontSize(8),f.setTextColor(120);let w=f.internal.pageSize.getHeight()-18;for(let a of["Peace Hotels, Mogadishu Somalia +252619494973 / +252619494974","reservations@peacebusinessgroup.com or movcon@peacebusinessgroup.com","Close to Adan Cade International Airport, Wadajir-Mogadishu"])f.text(a,g/2,w,{align:"center"}),w+=4;return f},j=({data:a,fileName:b="invitation-letter.pdf",children:c,onDownloaded:d})=>{let h=async()=>{(await i(a)).save(b),d&&d(a,b)};return(0,e.jsx)("div",{onClick:h,children:c||(0,e.jsxs)(f.$,{variant:"outline",children:[(0,e.jsx)(g.f5X,{className:"h-4 w-4 mr-2"}),"Download PDF"]})})};d()}catch(a){d(a)}})},16235:a=>{a.exports=import("@radix-ui/react-toast")},19640:a=>{a.exports=import("@radix-ui/react-tabs")},20598:a=>{a.exports=import("@radix-ui/react-label")},28462:a=>{a.exports=import("@tanstack/react-query")},33873:a=>{a.exports=require("path")},34371:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{config:()=>r,default:()=>n,getServerSideProps:()=>q,getStaticPaths:()=>p,getStaticProps:()=>o,handler:()=>z,reportWebVitals:()=>s,routeModule:()=>y,unstable_getServerProps:()=>w,unstable_getServerSideProps:()=>x,unstable_getStaticParams:()=>v,unstable_getStaticPaths:()=>u,unstable_getStaticProps:()=>t});var e=c(63885),f=c(80237),g=c(81413),h=c(65611),i=c.n(h),j=c(74780),k=c(76327),l=c(12289),m=a([j,k]);[j,k]=m.then?(await m)():m;let n=(0,g.M)(k,"default"),o=(0,g.M)(k,"getStaticProps"),p=(0,g.M)(k,"getStaticPaths"),q=(0,g.M)(k,"getServerSideProps"),r=(0,g.M)(k,"config"),s=(0,g.M)(k,"reportWebVitals"),t=(0,g.M)(k,"unstable_getStaticProps"),u=(0,g.M)(k,"unstable_getStaticPaths"),v=(0,g.M)(k,"unstable_getStaticParams"),w=(0,g.M)(k,"unstable_getServerProps"),x=(0,g.M)(k,"unstable_getServerSideProps"),y=new e.PagesRouteModule({definition:{kind:f.RouteKind.PAGES,page:"/InvitationLetter",pathname:"/InvitationLetter",bundlePath:"",filename:""},distDir:".next-fleet",relativeProjectDir:"",components:{App:j.default,Document:i()},userland:k}),z=(0,l.U)({srcPage:"/InvitationLetter",config:r,userland:k,routeModule:y,getStaticPaths:p,getStaticProps:o,getServerSideProps:q});d()}catch(a){d(a)}})},39655:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{BT:()=>l,Wu:()=>m,ZB:()=>k,Zp:()=>i,aR:()=>j,wL:()=>n});var e=c(8732),f=c(82015),g=c(87092),h=a([g]);g=(h.then?(await h)():h)[0];let i=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",a),...b}));i.displayName="Card";let j=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("flex flex-col space-y-1.5 p-6",a),...b}));j.displayName="CardHeader";let k=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("h3",{ref:c,className:(0,g.cn)("text-2xl font-semibold leading-none tracking-tight",a),...b}));k.displayName="CardTitle";let l=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("p",{ref:c,className:(0,g.cn)("text-sm text-muted-foreground",a),...b}));l.displayName="CardDescription";let m=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("p-6 pt-0",a),...b}));m.displayName="CardContent";let n=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)("div",{ref:c,className:(0,g.cn)("flex items-center p-6 pt-0",a),...b}));n.displayName="CardFooter",d()}catch(a){d(a)}})},40273:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{J:()=>l});var e=c(8732),f=c(82015),g=c(20598),h=c(8938),i=c(87092),j=a([g,h,i]);[g,h,i]=j.then?(await j)():j;let k=(0,h.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.Root,{ref:c,className:(0,i.cn)(k(),a),...b}));l.displayName=g.Root.displayName,d()}catch(a){d(a)}})},40361:a=>{a.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},41415:a=>{a.exports=import("sonner")},46060:a=>{a.exports=require("next/dist/shared/lib/no-fallback-error.external.js")},48303:a=>{a.exports=import("@radix-ui/react-tooltip")},50802:a=>{a.exports=import("clsx")},57312:a=>{a.exports=import("next-themes")},65515:a=>{a.exports=require("jspdf")},68953:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{Xi:()=>l,av:()=>m,j7:()=>k,tU:()=>j});var e=c(8732),f=c(82015),g=c(19640),h=c(87092),i=a([g,h]);[g,h]=i.then?(await i)():i;let j=g.Root,k=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.List,{ref:c,className:(0,h.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",a),...b}));k.displayName=g.List.displayName;let l=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.Trigger,{ref:c,className:(0,h.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",a),...b}));l.displayName=g.Trigger.displayName;let m=f.forwardRef(({className:a,...b},c)=>(0,e.jsx)(g.Content,{ref:c,className:(0,h.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",a),...b}));m.displayName=g.Content.displayName,d()}catch(a){d(a)}})},75979:a=>{a.exports=import("tailwind-merge")},76327:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{default:()=>o});var e=c(8732),f=c(82015),g=c(66345),h=c(39655),i=c(78059),j=c(40273),k=c(95859),l=c(68953),m=c(95965),n=a([g,h,i,j,k,l]);[g,h,i,j,k,l]=n.then?(await n)():n;let o=()=>{let[a,b]=(0,f.useState)({refNumber:function(){let a=new Date;return`PH/GM/${a.getDate()}${a.getMonth()+1}${String(a.getFullYear()).slice(-2)}-${a.getHours()}${a.getMinutes()}${a.getSeconds()}-${Math.floor(1e3*Math.random())}`}(),date:new Date().toISOString().split("T")[0],companyName:"PEACE BUSINESS GROUP",companyAddress:"Airport Road, Wadajir District, Mogadishu, Somalia",companyEmail:"reservations@peacebusinessgroup.com",companyPhone:"+252 61-94-94973 / +252 61-94-94974",guestName:"",nationality:"",organization:"",passportNumber:"",passportExpiryDate:"",purposeOfVisit:"We would like to inform you that the below guest will be visiting Mogadishu and he will be accommodated in Peace Hotel Mogadishu located next to Adan Cade International Airport. Peace Business Group will be responsible for his accommodation and safety while visiting Mogadishu.\n\nWe kindly request your assistance in facilitating the necessary visa and entry procedures for the above-mentioned guest. Should you require any additional information or documentation, please do not hesitate to contact us.\n\nWe look forward to your favorable consideration.",subject:"Official Invitation for Business Visit"}),c=a=>{let{name:c,value:d}=a.target;b(a=>({...a,[c]:d}))},[d,n]=(0,f.useState)([]),[o,p]=(0,f.useState)(""),[q,r]=(0,f.useState)({isOpen:!1,item:null}),s=d.filter(a=>a.guestName.toLowerCase().includes(o.toLowerCase())||a.organization.toLowerCase().includes(o.toLowerCase())||a.refNumber.toLowerCase().includes(o.toLowerCase())||a.nationality.toLowerCase().includes(o.toLowerCase())),t=()=>{r({isOpen:!1,item:null})},u=async()=>{if(q.item&&q.item.id)try{let{data:{user:a}}=await m.N.auth.getUser();if(!a)return void console.error("No authenticated user found for deleting invitation letter");let{error:b}=await m.N.from("invitation_letters").delete().eq("id",q.item.id.toString()).eq("generated_by",a.id);if(b)throw console.error("Failed to delete invitation letter:",b),b;n(a=>a.filter(a=>a.id!==q.item.id)),t()}catch(a){console.error("Error deleting invitation letter:",a)}},v=async()=>{try{let{data:{session:a},error:b}=await m.N.auth.getSession();if(b)throw console.error("Authentication error:",b),b;if(!a?.user)throw console.error("No authenticated user found"),Error("User not authenticated");let{data:c,error:d}=await m.N.from("invitation_letters").select("*").eq("generated_by",a.user.id).order("created_at",{ascending:!1}).limit(100);if(d)throw console.error("Database query error:",d),d;let e=c?.map(a=>({id:a.id,refNumber:a.ref_number,date:a.date,companyName:a.company_name,companyAddress:a.company_address,companyPhone:a.company_phone,companyEmail:a.company_email,guestName:a.guest_name,nationality:a.nationality,organization:a.organization,passportNumber:a.passport_number,passportExpiryDate:a.passport_expiry_date,visitDate:a.date,durationOfStay:"Not specified",purposeOfVisit:a.purpose_of_visit,subject:a.subject||"Official Invitation for Business Visit"}))||[];n(e)}catch(a){console.error("Failed to load history from database:",a)}};(0,f.useEffect)(()=>{v()},[]);let w=async a=>{try{console.log("saveHistoryToDb called with entry:",a);let{data:{user:b}}=await m.N.auth.getUser();if(!b)return void console.error("No authenticated user found for saving invitation letter");if(console.log("Validating entry:",a),!a.guestName||!a.nationality||!a.organization||!a.passportNumber)throw console.error("Missing required fields:",{guestName:a.guestName,nationality:a.nationality,organization:a.organization,passportNumber:a.passportNumber,fullEntry:a}),Error("Missing required fields for invitation letter");let c={ref_number:a.refNumber,date:(a=>a||null)(a.date),company_name:a.companyName,company_address:a.companyAddress,company_phone:a.companyPhone,company_email:a.companyEmail,guest_name:a.guestName,nationality:a.nationality,organization:a.organization,passport_number:a.passportNumber,passport_expiry_date:(a=>a||null)(a.passportExpiryDate),purpose_of_visit:a.purposeOfVisit,subject:a.subject,generated_by:b.id};console.log("Attempting to insert data:",c);let{data:d,error:e}=await m.N.from("invitation_letters").insert([c]).select().single();if(e)throw console.error("Database insert error details:",{message:e.message,details:e.details,hint:e.hint,code:e.code,insertData:c}),console.error("Full error object:",e),e;d&&(a.id=parseInt(d.id))}catch(a){console.error("Failed to save invitation history:",a)}};return(0,e.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,e.jsxs)("div",{className:"p-4 px-6 space-y-6",children:[(0,e.jsx)("div",{className:"border-b border-border pb-4 pt-4",children:(0,e.jsx)("div",{children:(0,e.jsx)("h1",{className:"text-2xl font-semibold text-foreground",children:"Visa Invitation Letter Generator"})})}),(0,e.jsxs)(l.tU,{defaultValue:"generate",className:"w-full",children:[(0,e.jsxs)(l.j7,{children:[(0,e.jsx)(l.Xi,{value:"generate",children:"Generate"}),(0,e.jsx)(l.Xi,{value:"history",children:"History"})]}),(0,e.jsx)(l.av,{value:"generate",children:(0,e.jsxs)("form",{className:"space-y-6",children:[(0,e.jsxs)(h.Zp,{children:[(0,e.jsx)(h.aR,{children:(0,e.jsx)(h.ZB,{children:"Company Information"})}),(0,e.jsxs)(h.Wu,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(j.J,{htmlFor:"companyName",children:"Company Name"}),(0,e.jsx)(i.p,{id:"companyName",name:"companyName",value:a.companyName,onChange:c})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(j.J,{htmlFor:"companyAddress",children:"Company Address"}),(0,e.jsx)(i.p,{id:"companyAddress",name:"companyAddress",value:a.companyAddress,onChange:c})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(j.J,{htmlFor:"companyEmail",children:"Company Email"}),(0,e.jsx)(i.p,{id:"companyEmail",name:"companyEmail",value:a.companyEmail,onChange:c})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(j.J,{htmlFor:"companyPhone",children:"Company Phone"}),(0,e.jsx)(i.p,{id:"companyPhone",name:"companyPhone",value:a.companyPhone,onChange:c})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(j.J,{htmlFor:"refNumber",children:"Reference Number"}),(0,e.jsx)(i.p,{id:"refNumber",name:"refNumber",value:a.refNumber,onChange:c})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(j.J,{htmlFor:"date",children:"Date"}),(0,e.jsx)(i.p,{id:"date",type:"date",name:"date",value:a.date,onChange:c})]})]})]}),(0,e.jsxs)(h.Zp,{children:[(0,e.jsx)(h.aR,{children:(0,e.jsx)(h.ZB,{children:"Guest Information"})}),(0,e.jsxs)(h.Wu,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(j.J,{htmlFor:"guestName",children:"Guest Name"}),(0,e.jsx)(i.p,{id:"guestName",name:"guestName",value:a.guestName,onChange:c})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(j.J,{htmlFor:"nationality",children:"Nationality"}),(0,e.jsx)(i.p,{id:"nationality",name:"nationality",value:a.nationality,onChange:c})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(j.J,{htmlFor:"organization",children:"Organization"}),(0,e.jsx)(i.p,{id:"organization",name:"organization",value:a.organization,onChange:c})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(j.J,{htmlFor:"passportNumber",children:"Passport Number"}),(0,e.jsx)(i.p,{id:"passportNumber",name:"passportNumber",value:a.passportNumber,onChange:c})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(j.J,{htmlFor:"passportExpiryDate",children:"Passport Expiry Date"}),(0,e.jsx)(i.p,{id:"passportExpiryDate",type:"date",name:"passportExpiryDate",value:a.passportExpiryDate,onChange:c})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(j.J,{htmlFor:"subject",children:"Letter Subject"}),(0,e.jsx)(i.p,{id:"subject",name:"subject",value:a.subject,onChange:c,placeholder:"e.g., Official Invitation for Business Visit"})]}),(0,e.jsxs)("div",{className:"space-y-2",children:[(0,e.jsx)(j.J,{htmlFor:"purposeOfVisit",children:"Body of the Letter"}),(0,e.jsx)("textarea",{id:"purposeOfVisit",name:"purposeOfVisit",value:a.purposeOfVisit,onChange:c,className:"flex min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",placeholder:"Enter the main body content of the invitation letter..."})]})]})]}),(0,e.jsx)("div",{className:"flex justify-end gap-3",children:(0,e.jsx)(k.G,{data:a,fileName:`invitation-letter-${a.refNumber}.pdf`,onDownloaded:async b=>{console.log("PDF downloaded, form data:",a),console.log("PDF downloaded, received data:",b),console.log("PDF downloaded, received data keys:",Object.keys(b)),await w(b),await v()},children:(0,e.jsx)(g.$,{type:"button",children:"Download PDF"})})})]})}),(0,e.jsx)(l.av,{value:"history",children:(0,e.jsxs)(h.Zp,{children:[(0,e.jsxs)(h.aR,{children:[(0,e.jsx)(h.ZB,{children:"Download History"}),(0,e.jsx)("div",{className:"flex gap-2 mt-4",children:(0,e.jsx)(i.p,{placeholder:"Search by guest name, organization, reference number, or nationality...",value:o,onChange:a=>p(a.target.value),className:"flex-1"})})]}),(0,e.jsx)(h.Wu,{className:"space-y-3",children:0===s.length?(0,e.jsx)("div",{className:"text-sm text-muted-foreground",children:o?"No matching results found.":"No history yet."}):s.map((a,b)=>(0,e.jsxs)("div",{className:"flex items-center justify-between gap-2 border rounded-md p-3",children:[(0,e.jsxs)("div",{className:"text-sm flex-1",children:[(0,e.jsxs)("div",{className:"font-medium",children:[a.guestName||"Guest"," — ",a.organization]}),(0,e.jsxs)("div",{className:"text-muted-foreground",children:["Ref: ",a.refNumber," • Date:"," ",new Date(a.date).toLocaleDateString("en-GB")]})]}),(0,e.jsxs)("div",{className:"flex gap-2",children:[(0,e.jsx)(k.G,{data:a,fileName:`invitation-letter-${a.refNumber}.pdf`,children:(0,e.jsx)(g.$,{type:"button",variant:"outline",size:"sm",children:"Re-download"})}),(0,e.jsx)(g.$,{type:"button",variant:"destructive",size:"sm",onClick:()=>{r({isOpen:!0,item:a})},children:"Delete"})]})]},`${a.refNumber}-${b}`))})]})})]})]}),q.isOpen&&q.item&&(0,e.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,e.jsxs)(h.Zp,{className:"w-full max-w-md mx-4",children:[(0,e.jsx)(h.aR,{children:(0,e.jsx)(h.ZB,{className:"text-destructive",children:"Delete Invitation Letter"})}),(0,e.jsxs)(h.Wu,{className:"space-y-4",children:[(0,e.jsx)("div",{className:"text-sm text-muted-foreground",children:"Are you sure you want to delete the invitation letter for:"}),(0,e.jsxs)("div",{className:"bg-muted p-3 rounded-md",children:[(0,e.jsx)("div",{className:"font-medium",children:q.item.guestName}),(0,e.jsxs)("div",{className:"text-sm text-muted-foreground",children:[q.item.organization," • Ref:"," ",q.item.refNumber]})]}),(0,e.jsx)("div",{className:"text-xs text-muted-foreground",children:"This action cannot be undone."}),(0,e.jsxs)("div",{className:"flex gap-2 pt-4",children:[(0,e.jsx)(g.$,{variant:"outline",onClick:t,className:"flex-1",children:"Cancel"}),(0,e.jsx)(g.$,{variant:"destructive",onClick:u,className:"flex-1",children:"Delete"})]})]})]})})]})};d()}catch(a){d(a)}})},78059:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{p:()=>i});var e=c(8732),f=c(82015),g=c(87092),h=a([g]);g=(h.then?(await h)():h)[0];let i=f.forwardRef(({className:a,type:b,onAddItem:c,onRemoveItem:d,showAddButton:f,showRemoveButton:h,addButtonLabel:i,removeButtonLabel:j,...k},l)=>(0,e.jsxs)("div",{className:f||h?"flex items-center gap-2":"",children:[(0,e.jsx)("input",{type:b,className:(0,g.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus:outline-none focus:ring-0 focus-visible:ring-0 focus:ring-offset-0 focus-visible:ring-offset-0 focus:border-ring focus-visible:border-ring disabled:cursor-not-allowed disabled:opacity-50 transition-colors",a),ref:l,onKeyDown:c?a=>{"Enter"===a.key&&c&&(a.preventDefault(),c())}:void 0,...k}),f&&c&&(0,e.jsx)("button",{type:"button",className:"inline-flex h-10 items-center justify-center rounded-md bg-primary px-3 py-2 text-sm font-medium text-primary-foreground hover:bg-primary/90",onClick:c,children:i||"Add"}),h&&d&&(0,e.jsx)("button",{type:"button",className:"inline-flex h-10 items-center justify-center rounded-md bg-destructive px-3 py-2 text-sm font-medium text-destructive-foreground hover:bg-destructive/90",onClick:d,children:j||"Remove"})]}));i.displayName="Input",d()}catch(a){d(a)}})},82015:a=>{a.exports=require("react")},83501:a=>{a.exports=import("jspdf-autotable")},93939:a=>{a.exports=require("@supabase/supabase-js")},95859:(a,b,c)=>{c.a(a,async(a,d)=>{try{c.d(b,{G:()=>e.A});var e=c(12830),f=a([e]);e=(f.then?(await f)():f)[0],d()}catch(a){d(a)}})}};var b=require("../webpack-runtime.js");b.C(a);var c=b.X(0,[4952,5611,5781,4780],()=>b(b.s=34371));module.exports=c})();